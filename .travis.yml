services:
  - docker
jobs:
  include:
    - stage: "Build & Deploy mrs-webapp"
      addons:
        sonarqube: true
      dist: trusty
      language: node_js
      node_js: 12
      before_script:
        - cd ./services/webapp
      script: bash build.sh
    - stage: "Build & Deploy mrs-free-service"
      dist: trusty
      language: java
      jdk: oraclejdk8
      before_script:
        - cd ./services/free-service
      script: bash build.sh
    - stage: "Build & Deploy mrs-member-service"
      dist: trusty
      language: java
      jdk: oraclejdk8
      before_script:
        - cd ./services/member-service
      script: bash build.sh
